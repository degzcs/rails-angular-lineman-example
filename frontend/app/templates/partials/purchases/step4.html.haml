%div.main-content-purchase{ "ng-hide"=>"showLoading"}
  %md-content{"class"=>"", "layout"=>"column", "layout-align"=>"center center"}
    %h1 Reporte de Compra Trazoro
  %md-content{ "flex"=>"", "class"=>"", "layout"=>"row"}
    %md-content{"flex"=> "40", "class"=>"md-padding autocomplete", "layout"=>"column", "layout-align"=>"start start"}
      %h5{"flex"=> "10"}
        Comprador
      %table.md-table{"flex"=> ""}
        %tbody
          %tr
            %td.md-table-td-more
              Razon social:
            %td.md-table-td-more.value
              {{buyer_data.company_name}}
          %tr
            %td.md-table-td-more
              Nit:
            %td.md-table-td-more.value
              {{buyer_data.nit}}
          %tr
            %td.md-table-td-more
              Rucom:
            %td.md-table-td-more.value
              {{buyer_data.rucom_number}}
          %tr
            %td.md-table-td-more
              Nombre de usuario:
            %td.md-table-td-more
              {{buyer_data.first_name}} {{buyer_data.last_name}}
          %tr
            %td.md-table-td-more
              Sucursal:
            %td.md-table-td-more
              {{buyer_data.office}}
          %tr
            %td.md-table-td-more
              Direccion:
            %td.md-table-td-more.value
              {{buyer_data.address}}
          %tr
            %td.md-table-td-more
              Telefono:
            %td.md-table-td-more.value
              {{buyer_data.phone}}
    %md-content{"flex"=> "", "class"=>"", "layout"=>"row", "layout-align"=>"center start"}
      %md-content{"flex"=> "", "class"=>"md-padding autocomplete", "layout"=>"column", "layout-align"=>"center start"}
        %h5{"flex"=> ""}
          Vendedor
        %table.md-table{'flex' => ''}
          %tbody
            %tr.row
              %td.md-table-td-more
                Razon social:
              %td.md-table-td-more.value
                {{purchase.model.seller.company_name}}
            %tr
              %td.md-table-td-more
                Nit:
              %td.md-table-td-more.value
                {{purchase.model.seller.nit}}
            %tr
              %td.md-table-td-more
                Rucom:
              %td.md-table-td-more.value
                {{purchase.model.seller.rucom.rucom_number}}
            %tr
              %td.md-table-td-more
                Nombre de usuario
              %td.md-table-td-more
                {{purchase.model.seller.name}}
            %tr
              %td.md-table-td-more
                Cedula
              %td.md-table-td-more
                {{purchase.model.seller.document_number}}
            %tr
              %td.md-table-td-more
                Direccion:
              %td.md-table-td-more.value
                {{purchase.model.seller.address}}
            %tr
              %td.md-table-td-more
                Telefono:
              %td.md-table-td-more.value
                {{purchase.model.seller.phone_number}}
      %md-content{"flex"=> "30", "class"=>"md-padding autocomplete", "layout"=>"row", "layout-align"=>"center start"}
        .image.row
          .photo
            %img.face.cam{'alt'=>'Foto Vendedor', 'ng-src' => "{{purchase.model.seller_picture}}"}

  %md-content{"class"=>"", "layout"=>"row"}
    %h4
      Datos de la Compra
  %md-content{"class"=>"", "layout"=>"row"}
    .purchase-info{'flex' => ''}
      .row{'layout' => 'row'}
        .oc-number{'flex' => ''}
          %p
            Numero de Certificado de Origen
          %p
            {{purchase.model.origin_certificate_sequence}}
    .select-law{'flex' => ''}
      %p
        Ley
      %p
        {{goldBatch.model.grade}}

  %md-content{"class"=>"", "layout"=>"row"}
    %h4
      Mineral Comprado
  %md-content{"class"=>"", "layout"=>"row"}
    .purchase-info{'flex' => ''}
      .row{'layout' => 'row'}
        .oc-number{'flex' => ''}
          %p
            {{goldBatch.model.mineral_type}}

  %md-content{"class"=>"", "layout"=>"column", "layout-align"=>"center start"}
    %h4
      Peso comprado
  %md-content{"class"=>"", "layout"=>"row"}
    %table.md-table{'flex' => ''}
      %thead
        %tr.md-table-headers-row
          %th.md-table-header
            Medida
          %th.md-table-header
            Cantidad
          %th.md-table-header
            Total gramos
          %th.md-table-header
            Total gramos finos
          %th.md-table-header
            Precio Total
      %tbody
        %tr
          %td.md-table-td-more
            %p Gramo(s)
          %td.md-table-td-more
            %md-input-container
              %span {{goldBatch.model.grams | number:3}}
          %td.md-table-td-more
            %md-input-container
              {{ goldBatch.model.total_grams | number:2}}
          %td.md-table-td-more
            %md-input-container
              {{ goldBatch.model.total_fine_grams | number:3}}
          %td.md-table-td-more
            %md-input-container
              $ {{ purchase.model.price | number:2}}
        %tr
          %td.md-table-td-more
            Castellano(s)
          %td.md-table-td-more{colspan: 5}
            %md-input-container
              %span {{goldBatch.model.castellanos}}
        %tr
          %td.md-table-td-more
            Onza(s)
          %td.md-table-td-more{colspan: 5}
            %md-input-container
              %span {{goldBatch.model.ozs}}
        %tr
          %td.md-table-td-more
            Tomine(s)
          %td.md-table-td-more{colspan: 5}
            %md-input-container
              %span {{goldBatch.model.tomines}}
        %tr
          %td.md-table-td-more
            Rial(es)
          %td.md-table-td-more{colspan: 5}
            %md-input-container
              %span {{goldBatch.model.reales}}
  .error-message{layout: "row", "class"=>"md-padding autocomplete",  "layout-align"=>"end end"}
    %p.red-text{:ng-if => "(current_user.available_credits < goldBatch.model.total_fine_grams) && purchase.model.type == 'seller'"}
      El usario no tiene suficientes creditos para realizar esta compra!
  .wizard-buttons{layout: "row", "class"=>"md-padding autocomplete",  "layout-align"=>"end end"}
    %md-button.btn-cancel{ :ng-if => "purchase.model.type == 'seller'", flex: "20", "ui-sref"=>"new_purchase.step3"} Volver
    %md-button.btn-cancel{ :ng-if => "purchase.model.type == 'trazoro'", flex: "20", "ui-sref"=>"new_purchase.step1"} Volver
    %md-button.btn-save{ "ng-disabled" => "(current_user.available_credits < goldBatch.model.total_fine_grams) && purchase.model.type == 'seller'", flex: "20", "ng-click" => "showConfirm($event)"} Realizar la Compra


%tr-loading-view{"ng-show"=>"showLoading","mode"=>"loadingMode","progress"=>"loadingProgress", "message"=>"loadingMessage"}


