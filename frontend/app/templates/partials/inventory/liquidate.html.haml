/--------------------------- Liquidate invnetory view ------------------------/
%section.liquidate-inventory-view{layout: "row"}
  /--------------------------- Selected Grams layout ------------------------/
  %md-card.amounts-picked.md-padding{flex: "20"}
    %h3
      Seleccion (Gramos Finos)
    %div.selected_amount{"ng-repeat"=> "item in selectedPurchases"} 
      {{item.amount_picked}} gr
    %div.total_amount
      %strong
        Gramos Totales: 
      {{totalAmount}} gr
  %md-card.batches{flex: ""}
    /--------------------------- Ingot Creation layout ------------------------/
    %h3
      Lote Resultante
    /%md-checkbox.md-primary{"aria-label" => "equal_amount_divider", "md-no-ink" => "", "ng-model" => "divide_by_equal_amounts",  "ng-disabled"=>"{{!allow_equal_divider}}", "ng-change"=>"divideIngots()"}
    /  Dividir en cantidades iguales?
    %form.sale-form{name: "ingotsForm", novalidate: ""}
      %md-content.ingot_form{:layout => "row", "layout-padding" => "", "md-theme" => "docs-dark"}
        //%h3{flex: "30"} 
        //  Lote 
        //  /{{$index +1 }} :
        %md-input-container{flex: ""}
          %label Ley
          %input{"name"=> "selectedGrade","ng-model" => "selectedGrade", required: "", "type" => "number","ng-change"=>"calculate_total_amount()","min"=> "1","max"=> "999","step"=>"1"}
          %div{"ng-messages" => "ingotsForm.selectedGrade.$error"}
            %div{"ng-message" => "min"} La ley debe ser un valor entre 1 y 999
            %div{"ng-message" => "max"} La ley debe ser un valor entre 1 y 999
            %div{"ng-message" => "number"} Formato Invalido
        %md-input-container{flex: ""}
          %label Gramos
          %input{"ng-model" => "selectedGrams", required: "","type" => "number", "step"=>"any","ng-change"=>"calculate_total_amount()"}
          %div{"ng-messages" => "ingotsForm.selectedGrams.$error"}
            %div{"ng-message" => "number"} Formato Invalido
      %div.liquidation-messages{"ng-messages" => "validation_messages"}
        %div.valid{"ng-message" => "valid"} Cantidad correcta
        %div.invalid{"ng-message" => "invalid"} La cantidad no corresponde con los gramos finos seleccionados
      %h1
        Gramos Finos Totales:
        {{selectedTotalAmount}}

      .customer-form{layout: "row"}
        .customer-info{flex: ""}
          %h3 Seleccione Cliente
          %md-autocomplete{"md-selected-item"=>"selectedClient", "md-search-text"=> "searchClientText", "md-items" => "client in searchClients(searchClientText)", "md-no-cache" => "true", "md-item-text"=>"client.first_name", "placeholder" => "Buscar Clientes por Cedula","md-selected-item-change"=>"setSelectedClientInfo()"}
            %span{"md-highlight-text" => "searchClientText"} {{client.id_document_number}} - {{client.first_name}} {{ client.last_name}}
          %md-button{"ui-sref"=>"search_rucom({type: 'client'})"}  crear cliente
        .courier-info{flex: ""}
          %h3 Seleccione Transportador
          %md-autocomplete{"md-selected-item"=>"selectedCourier", "md-search-text"=> "searchCourierText", "md-items" => "courier in searchCouriers(searchCourierText)", "md-no-cache" => "true", "md-item-text"=>"courier.first_name", "placeholder" => "Buscar Transportadores por Cedula"}
            %span{"md-highlight-text" => "searchClientText"} {{courier.id_document_number}} - {{courier.first_name}} {{courier.last_name}}

          %md-button{"ui-sref"=>"new_courier"} crear transportador

      %md-button.submit-button.ingot-submit-btn{type: "submit"} Crear Venta
          



