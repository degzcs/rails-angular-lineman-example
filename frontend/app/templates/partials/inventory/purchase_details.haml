%div{:layout => "column"}
  .general-container
    %md-content{ "flex"=>"30", "class"=>"", "layout"=>"row"}
      %md-content{"flex"=> "", "class"=>"", "layout"=>"column"}
        %div.md-subtitle{"flex"=> ""}
          COMPRADOR
        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Razón Social
          %p.text-container-false 
            {{current_user.company_name}} 

        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Nit
          %p.text-container-false 
            {{current_user.nit}}  
 
        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Rucom
          %p.text-container-false 
            {{current_user.rucom_record}}

        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Nombre de usuario
          %p.text-container-false 
            {{current_user.first_name}} {{current_user.last_name}}

        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Sucursal
          %p.text-container-false 
            {{current_user.office}}

        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Direccion
          %p.text-container-false 
            {{current_user.address}}

        %div.input-containers-false{flex: ""}
          %label.label-container-false
            Telefono
          %p.text-container-false 
            {{current_user.phone_number}}
        
       
      %md-content{"flex"=> "30", "class"=>"", "layout"=>"row"}
        %md-content{"flex"=> "", "class"=>"", "layout"=>"column"}
          %div.md-subtitle{"flex"=> ""}
            PROVEEDOR
          
          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Razón Social
            %p.text-container-false 
              {{seller.company ? seller.company.name : seller.first_name + ' ' + seller.last_name}}

          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Nit
            %p.text-container-false 
              {{seller.nit}}
              
          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Rucom
            %p.text-container-false 
              {{seller.rucom.rucom_record}}

          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Nombre de usuario
            %p.text-container-false 
              {{seller.first_name}} {{seller.last_name}}
          
          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Cédula
            %p.text-container-false 
              {{seller.document_number}}

          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Direccion
            %p.text-container-false 
              {{seller.address}}
          
          %div.input-containers-false{flex: ""}
            %label.label-container-false
              Telefono
            %p.text-container-false
              {{seller.phone_number}}
      %md-content{"flex"=> "40", "class"=>"", "layout"=>"row"}  
        %md-content{"flex"=> "", "class"=>"", "layout"=>"column", "layout-align" => "center center"}
          %div.md-subtitle{"flex"=> ""}
            FOTO DEL PROVEEDOR
          .image.row
            .photo
              %img.face.cam{'alt'=>'Foto Proveedor', 'ng-src' => "{{purchase.seller_picture.url}}"}
          .reference-code{'flex' => ''}
            %div{"ng-bind-html"=>"barcode_html"}
              {{purchase.code}}

    %md-content{"class"=>"", "layout"=>"row"}
      %h3
        DATOS DE LA COMPRA
    %md-content{"class"=>"", "layout"=>"row"}
      .purchase-info{'flex' => ''}
        .row{'layout' => 'row'}
          .oc-number{'flex' => ''}
            %p.md-subtitle
              Numero de Certificado de Origen
            %p
              {{purchase.origin_certificate_sequence}}
      .select-law{'flex' => ''}
        %p.md-subtitle
          Ley
        %p
          {{purchase.gold_batch.grade}}
      
      .select-law{'flex' => ''}
        %p.md-subtitle
          Mineral Comprado

        %p
          {{purchase.gold_batch.mineral_type}}

    %md-content{"class"=>"", "layout"=>"row"}
      .purchase-info{'flex' => ''}

    %md-content{"class"=>"", "layout"=>"column", "layout-align"=>"center start"}
      %h3
        PESO COMPRADO
    %md-content{"class"=>"", "layout"=>"row", 'layout-align' => 'center'}
      %table{'flex' => '100', 'style' => 'width: 150%'}
        %thead
          %tr.md-table-headers-row
            %th.md-table-header
              TOTAL GRAMOS FINOS
            
            %th.md-table-header
              PRECIO POR GRAMO FINO
            %th.md-table-header
              PRECIO TOTAL
            
        %tbody
          %tr
            %td.md-table-td-more
              %md-input-container
                {{ total_fine_grams | number:3}}
            %td.md-table-td-more
              %md-input-container
                $ {{ fine_gram_unit_price | number:2}}
            %td.md-table-td-more
              %md-input-container
                $ {{ price | number:2}}

    %div{"ng-if"=>"purchase.trazoro"}
      %md-content{"class"=>"", "layout"=>"column", "layout-align"=>"center start"}
        %h4 Detalle Compra Trazoro
      %md-content{"class"=>"", "layout"=>"row"}
        %table.md-table{'flex' => ''}
          %thead
            %tr.md-table-headers-row
              %th.md-table-header
                ID Proveedor
              /%th.md-table-header
              /  Rucom Proveedor
              %th.md-table-header
                Nombre Proveedor
              %th.md-table-header
                Gramos seleccionados

          %tbody
            %tr{"ng-repeat"=>"batch in trazoro_batches"}
              %td.md-table-td-more
                %md-input-container
                  {{batch.seller.id}}
              /%td.md-table-td-more
              /  %md-input-container
              /    {{batch.seller.rucom.rucom_record}}
              %td.md-table-td-more
                %md-input-container
                  {{batch.seller.first_name}} {{batch.seller.last_name }}
              %td.md-table-td-more
                %md-input-container
                  {{batch.grams_picked}} gr

    %div.md-padding{"ng-if"=>"purchase.type == 'purchase'",'layout' => 'row', "layout-align" => 'center'}
      %md-button.btn-save{ flex: "30","target"=> "_blank", href: "{{purchase.origin_certificate_file_url}}"}
        Certificado de origen
      %md-button.btn-save{ flex: "30","target"=> "_blank", href: "{{purchase.proof_of_purchase_file_url}}"}
        Documento equivalente
      %a.md-button{"ng-if"=>"purchase.uiaf_report_file_url.length", "target"=> "_blank", href: "{{purchase.uiaf_report_file_url}}"}
        Descargar Reporte UIAF

    %div{"ng-if"=>"purchase.type == 'sale'"}
      
      %md-button.btn-save{ flex: "30", "ng-if"=>"purchase.transaction_state == 'approved' || purchase.transaction_state == 'paid'", href: "{{purchase.purchase_files_collection.file.url}}", :target => "_self", "download"=>"purchase_files_collection.pdf"}
        Archivos adjuntos de compra
      %md-button.btn-save{ flex: "30", "target"=> "_blank", href: "{{purchase.proof_of_sale_file_url}}"}
        Compendio
